@PACKAGE_INIT@

include(CMakeFindDependencyMacro)

find_dependency(ZLIB CONFIG)

# MbedTLS is used on Unix platforms and MSYS2 (Windows/MSVC uses Schannel)
if(NOT WIN32 OR CMAKE_SYSTEM_NAME STREQUAL "MSYS")
  find_dependency(MbedTLS CONFIG)
endif()

find_dependency(Nghttp2 CONFIG)

# CAres is only used on Unix platforms (excluding MSYS2) due to Windows/MSYS2 deadlock issues
if(NOT WIN32 AND NOT CMAKE_SYSTEM_NAME STREQUAL "MSYS")
  find_dependency(CAres CONFIG)
endif()

find_dependency(PSL CONFIG)
find_dependency(CURL CONFIG)
find_dependency(CPR CONFIG)

if(TARGET zlib AND NOT TARGET ZLIB::ZLIB)
  add_library(ZLIB::ZLIB ALIAS zlib)
endif()

# MbedTLS is available on Unix platforms and MSYS2
if(NOT WIN32 OR CMAKE_SYSTEM_NAME STREQUAL "MSYS")
  if(TARGET mbedtls AND NOT TARGET MbedTLS::mbedtls)
    add_library(MbedTLS::mbedtls ALIAS mbedtls)
  endif()
endif()

if(TARGET nghttp2 AND NOT TARGET Nghttp2::nghttp2)
  add_library(Nghttp2::nghttp2 ALIAS nghttp2)
endif()

# CAres is only available on Unix platforms (excluding MSYS2)
if(NOT WIN32 AND NOT CMAKE_SYSTEM_NAME STREQUAL "MSYS")
  if(TARGET cares AND NOT TARGET CAres::cares)
    add_library(CAres::cares ALIAS cares)
  endif()
endif()

if(TARGET psl AND NOT TARGET PSL::psl)
  add_library(PSL::psl ALIAS psl)
endif()

if(TARGET curl AND NOT TARGET CURL::libcurl)
  add_library(CURL::libcurl ALIAS curl)
endif()

if(TARGET cpr AND NOT TARGET CPR::cpr)
  add_library(CPR::cpr ALIAS cpr)
endif()

check_required_components("@PROJECT_NAME@")
